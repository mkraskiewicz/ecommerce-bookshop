


<div *ngIf="isLoggedIn; else loggedOut" style="margin-top: 10px;">
    <mat-card class="card">
      Logged in as {{roles}}.
    </mat-card>
</div>

<ng-template #loggedOut>
<mat-card class="card" style="max-width:350px; margin-top: 10px;">
    <mat-card-header>
      
      <mat-card-title>Login</mat-card-title>
      <mat-card-subtitle>Please enter your login credentials</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>

            <div class="row col-sm-6" >
              <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
                <div class="form-group">
                  <mat-form-field>
                      <input matInput placeholder="Username" name="username" class="form-control"
                       [(ngModel)]="form.username" #username="ngModel" required>
                       <div *ngIf="f.submitted && password.invalid">
                          <mat-error *ngIf="username.errors.required">Username is required</mat-error>
                      </div>
                    </mat-form-field>
                </div>
                <div class="form-group">
                  <mat-form-field>
                      <input matInput type="password" placeholder="Password" class="form-control" name="password" 
                      [(ngModel)]="form.password" #password="ngModel" minlength="6" required>
                      <div *ngIf="f.submitted && password.invalid">
                          <mat-error *ngIf="password.errors.required">Password is required</mat-error>
                          <mat-error *ngIf="password.errors.minlength">Password must be at least 6 characters</mat-error>
                      </div>
                    </mat-form-field>
                </div>
                
                <div class="form-group" style="text-align:center;">
                  <button mat-raised-button color="primary">Login</button>
                  <div *ngIf="f.submitted && isLoginFailed" class="alert alert-danger">
                    Login failed: {{errorMessage}}
                  </div>
                </div>
               
                
                 
              </form>
              <hr />
              <div style="text-align:center;">
                <small>Don't have an account?</small><br>
                <a href="signup" mat-raised-button color="primary" style="margin-top: 10px;">Sign Up</a>
              </div>
            </div>
          
    </mat-card-content>
  </mat-card>
</ng-template>
